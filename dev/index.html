<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Hurst Documentation · Hurst</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Hurst</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Hurst Documentation</a><ul class="internal"><li><a class="toctext" href="#Index-1">Index</a></li><li><a class="toctext" href="#Hurst.Models.GR4J-1">Hurst.Models.GR4J</a></li><li><a class="toctext" href="#Hurst.Models.OSTP-1">Hurst.Models.OSTP</a></li><li><a class="toctext" href="#Hurst.Simulation-1">Hurst.Simulation</a></li><li><a class="toctext" href="#Hurst.Calibration-1">Hurst.Calibration</a></li><li><a class="toctext" href="#Hurst.Transformations-1">Hurst.Transformations</a></li><li><a class="toctext" href="#Hurst.Visualisations-1">Hurst.Visualisations</a></li><li><a class="toctext" href="#Hurst.Units-1">Hurst.Units</a></li><li><a class="toctext" href="#Hurst.Performance.Metrics-1">Hurst.Performance.Metrics</a></li><li><a class="toctext" href="#Hurst.Performance.Economic-1">Hurst.Performance.Economic</a></li><li><a class="toctext" href="#Hurst.Performance.Confusion-1">Hurst.Performance.Confusion</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Hurst Documentation</a></li></ul><a class="edit-page" href="https://github.com/tinyrock/hurst/blob/master/docs/src/index.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Hurst Documentation</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Hurst-Documentation-1" href="#Hurst-Documentation-1">Hurst Documentation</a></h1><ul><li><a href="#Hurst-Documentation-1">Hurst Documentation</a></li><ul><li><a href="#Index-1">Index</a></li><li><a href="#Hurst.Models.GR4J-1">Hurst.Models.GR4J</a></li><li><a href="#Hurst.Models.OSTP-1">Hurst.Models.OSTP</a></li><li><a href="#Hurst.Simulation-1">Hurst.Simulation</a></li><li><a href="#Hurst.Calibration-1">Hurst.Calibration</a></li><li><a href="#Hurst.Transformations-1">Hurst.Transformations</a></li><li><a href="#Hurst.Visualisations-1">Hurst.Visualisations</a></li><li><a href="#Hurst.Units-1">Hurst.Units</a></li><li><a href="#Hurst.Performance.Metrics-1">Hurst.Performance.Metrics</a></li><li><a href="#Hurst.Performance.Economic-1">Hurst.Performance.Economic</a></li><li><a href="#Hurst.Performance.Confusion-1">Hurst.Performance.Confusion</a></li></ul></ul><h2><a class="nav-anchor" id="Index-1" href="#Index-1">Index</a></h2><ul><li><a href="#Hurst.Calibration.calibrate-NTuple{5,Any}"><code>Hurst.Calibration.calibrate</code></a></li><li><a href="#Hurst.Models.GR4J.create_uh_ordinates-Tuple{Any,Any,Any}"><code>Hurst.Models.GR4J.create_uh_ordinates</code></a></li><li><a href="#Hurst.Models.GR4J.gr4j_init_state-Tuple{Any}"><code>Hurst.Models.GR4J.gr4j_init_state</code></a></li><li><a href="#Hurst.Models.GR4J.gr4j_param_trans-Tuple{Any,Any}"><code>Hurst.Models.GR4J.gr4j_param_trans</code></a></li><li><a href="#Hurst.Models.GR4J.gr4j_param_trans_inv-Tuple{Any,Any}"><code>Hurst.Models.GR4J.gr4j_param_trans_inv</code></a></li><li><a href="#Hurst.Models.GR4J.gr4j_params_default-Tuple{}"><code>Hurst.Models.GR4J.gr4j_params_default</code></a></li><li><a href="#Hurst.Models.GR4J.gr4j_params_from_array-Tuple{Any}"><code>Hurst.Models.GR4J.gr4j_params_from_array</code></a></li><li><a href="#Hurst.Models.GR4J.gr4j_params_random-Tuple{Any}"><code>Hurst.Models.GR4J.gr4j_params_random</code></a></li><li><a href="#Hurst.Models.GR4J.gr4j_params_range-Tuple{}"><code>Hurst.Models.GR4J.gr4j_params_range</code></a></li><li><a href="#Hurst.Models.GR4J.gr4j_params_range_to_tuples-Tuple{Any}"><code>Hurst.Models.GR4J.gr4j_params_range_to_tuples</code></a></li><li><a href="#Hurst.Models.GR4J.gr4j_params_range_trans-Tuple{Any}"><code>Hurst.Models.GR4J.gr4j_params_range_trans</code></a></li><li><a href="#Hurst.Models.GR4J.gr4j_params_to_array-Tuple{Any}"><code>Hurst.Models.GR4J.gr4j_params_to_array</code></a></li><li><a href="#Hurst.Models.GR4J.gr4j_params_trans-Tuple{Any}"><code>Hurst.Models.GR4J.gr4j_params_trans</code></a></li><li><a href="#Hurst.Models.GR4J.gr4j_params_trans_inv-Tuple{Any}"><code>Hurst.Models.GR4J.gr4j_params_trans_inv</code></a></li><li><a href="#Hurst.Models.GR4J.gr4j_run_step-NTuple{4,Any}"><code>Hurst.Models.GR4J.gr4j_run_step</code></a></li><li><a href="#Hurst.Models.GR4J.s_curve-Tuple{Any,Any,Any}"><code>Hurst.Models.GR4J.s_curve</code></a></li><li><a href="#Hurst.Models.GR4J.update_uh-Tuple{Any,Any,Any}"><code>Hurst.Models.GR4J.update_uh</code></a></li><li><a href="#Hurst.Models.OSTP.ostp_init_state-Tuple{Any}"><code>Hurst.Models.OSTP.ostp_init_state</code></a></li><li><a href="#Hurst.Models.OSTP.ostp_params_default-Tuple{}"><code>Hurst.Models.OSTP.ostp_params_default</code></a></li><li><a href="#Hurst.Models.OSTP.ostp_params_from_array-Tuple{Any}"><code>Hurst.Models.OSTP.ostp_params_from_array</code></a></li><li><a href="#Hurst.Models.OSTP.ostp_params_random-Tuple{Any}"><code>Hurst.Models.OSTP.ostp_params_random</code></a></li><li><a href="#Hurst.Models.OSTP.ostp_params_range-Tuple{}"><code>Hurst.Models.OSTP.ostp_params_range</code></a></li><li><a href="#Hurst.Models.OSTP.ostp_params_range_to_tuples-Tuple{Any}"><code>Hurst.Models.OSTP.ostp_params_range_to_tuples</code></a></li><li><a href="#Hurst.Models.OSTP.ostp_params_to_array-Tuple{Any}"><code>Hurst.Models.OSTP.ostp_params_to_array</code></a></li><li><a href="#Hurst.Models.OSTP.ostp_run_step-NTuple{4,Any}"><code>Hurst.Models.OSTP.ostp_run_step</code></a></li><li><a href="#Hurst.Performance.Confusion.confusion-NTuple{4,Any}"><code>Hurst.Performance.Confusion.confusion</code></a></li><li><a href="#Hurst.Performance.Confusion.confusion_scaled-NTuple{4,Any}"><code>Hurst.Performance.Confusion.confusion_scaled</code></a></li><li><a href="#Hurst.Performance.Economic.cost_loss-Tuple{Any,Any,Any}"><code>Hurst.Performance.Economic.cost_loss</code></a></li><li><a href="#Hurst.Performance.Economic.cost_loss_richardson-NTuple{4,Any}"><code>Hurst.Performance.Economic.cost_loss_richardson</code></a></li><li><a href="#Hurst.Performance.Economic.cost_loss_roulin-Tuple{Any,Any,Any}"><code>Hurst.Performance.Economic.cost_loss_roulin</code></a></li><li><a href="#Hurst.Performance.Economic.cost_loss_verkade-Tuple{Any,Any,Any}"><code>Hurst.Performance.Economic.cost_loss_verkade</code></a></li><li><a href="#Hurst.Performance.Metrics.coeff_det-Tuple{Any,Any}"><code>Hurst.Performance.Metrics.coeff_det</code></a></li><li><a href="#Hurst.Performance.Metrics.kge-Tuple{Any,Any}"><code>Hurst.Performance.Metrics.kge</code></a></li><li><a href="#Hurst.Performance.Metrics.kuipers_score-Tuple{Any}"><code>Hurst.Performance.Metrics.kuipers_score</code></a></li><li><a href="#Hurst.Performance.Metrics.mae-Tuple{Any,Any}"><code>Hurst.Performance.Metrics.mae</code></a></li><li><a href="#Hurst.Performance.Metrics.mse-Tuple{Any,Any}"><code>Hurst.Performance.Metrics.mse</code></a></li><li><a href="#Hurst.Performance.Metrics.nse-Tuple{Any,Any}"><code>Hurst.Performance.Metrics.nse</code></a></li><li><a href="#Hurst.Performance.Metrics.persistence-Tuple{Any,Any}"><code>Hurst.Performance.Metrics.persistence</code></a></li><li><a href="#Hurst.Performance.Metrics.rmse-Tuple{Any,Any}"><code>Hurst.Performance.Metrics.rmse</code></a></li><li><a href="#Hurst.Simulation.simulate-NTuple{5,Any}"><code>Hurst.Simulation.simulate</code></a></li><li><a href="#Hurst.Transformations.boxcox-Tuple{Any,Any}"><code>Hurst.Transformations.boxcox</code></a></li><li><a href="#Hurst.Transformations.boxcox-Tuple{Any,Any,Any}"><code>Hurst.Transformations.boxcox</code></a></li><li><a href="#Hurst.Transformations.boxcox_inverse-Tuple{Any,Any}"><code>Hurst.Transformations.boxcox_inverse</code></a></li><li><a href="#Hurst.Transformations.boxcox_inverse-Tuple{Any,Any,Any}"><code>Hurst.Transformations.boxcox_inverse</code></a></li><li><a href="#Hurst.Transformations.log_sinh-Tuple{Any,Any,Any}"><code>Hurst.Transformations.log_sinh</code></a></li><li><a href="#Hurst.Transformations.log_sinh_inverse-Tuple{Any,Any,Any}"><code>Hurst.Transformations.log_sinh_inverse</code></a></li><li><a href="#Hurst.Transformations.log_trans-Tuple{Any,Any}"><code>Hurst.Transformations.log_trans</code></a></li><li><a href="#Hurst.Transformations.log_trans-Tuple{Any}"><code>Hurst.Transformations.log_trans</code></a></li><li><a href="#Hurst.Transformations.log_trans_inverse-Tuple{Any,Any}"><code>Hurst.Transformations.log_trans_inverse</code></a></li><li><a href="#Hurst.Transformations.log_trans_inverse-Tuple{Any}"><code>Hurst.Transformations.log_trans_inverse</code></a></li><li><a href="#Hurst.Units.acres_to_km2-Tuple{Any}"><code>Hurst.Units.acres_to_km2</code></a></li><li><a href="#Hurst.Units.cumecs_to_megalitres_day-Tuple{Any}"><code>Hurst.Units.cumecs_to_megalitres_day</code></a></li><li><a href="#Hurst.Units.km2_to_acres-Tuple{Any}"><code>Hurst.Units.km2_to_acres</code></a></li><li><a href="#Hurst.Units.km2_to_m2-Tuple{Any}"><code>Hurst.Units.km2_to_m2</code></a></li><li><a href="#Hurst.Units.m2_to_km2-Tuple{Any}"><code>Hurst.Units.m2_to_km2</code></a></li><li><a href="#Hurst.Units.megalitres_day_to_cumecs-Tuple{Any}"><code>Hurst.Units.megalitres_day_to_cumecs</code></a></li><li><a href="#Hurst.Units.megalitres_to_mm_runoff-Tuple{Any,Any}"><code>Hurst.Units.megalitres_to_mm_runoff</code></a></li><li><a href="#Hurst.Units.mm_runoff_to_megalitres-Tuple{Any,Any}"><code>Hurst.Units.mm_runoff_to_megalitres</code></a></li><li><a href="#Hurst.Visualisations.hydrograph-Tuple{Any,Any,Any}"><code>Hurst.Visualisations.hydrograph</code></a></li><li><a href="#Hurst.Visualisations.hyscatter-NTuple{5,Any}"><code>Hurst.Visualisations.hyscatter</code></a></li></ul><h2><a class="nav-anchor" id="Hurst.Models.GR4J-1" href="#Hurst.Models.GR4J-1">Hurst.Models.GR4J</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Models.GR4J.gr4j_init_state-Tuple{Any}" href="#Hurst.Models.GR4J.gr4j_init_state-Tuple{Any}"><code>Hurst.Models.GR4J.gr4j_init_state</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">gr4j_init_state(pars)</code></pre><p>Return a Dictionary containing an initial state for GR4J model. Uses a standard method derived from a set of model parmaters, <code>pars</code>.</p><p>The <code>pars</code> argument should have keys defined by the <code>gr4j_params_from_array</code> function.</p><p>Essential input for the first call to <code>gr4j_run_step</code> function to ensure the unit hydrograph arrays are initialised to the correct size and ordinates are specified correctly.</p><p>See also: <a href="#Hurst.Models.GR4J.gr4j_params_from_array-Tuple{Any}"><code>gr4j_params_from_array</code></a>, <a href="#Hurst.Models.GR4J.gr4j_run_step-NTuple{4,Any}"><code>gr4j_run_step</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/models/gr4j.jl#L343-L359">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Models.GR4J.gr4j_params_default-Tuple{}" href="#Hurst.Models.GR4J.gr4j_params_default-Tuple{}"><code>Hurst.Models.GR4J.gr4j_params_default</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">gr4j_params_default()</code></pre><p>Returns a Dictionary containing a reasonable set of GR4J parameter vaues with keys defined by the <code>gr4j_params_from_array</code> function and ready to be used by the <code>gr4j_run_step</code> function.</p><p>See also: <a href="#Hurst.Models.GR4J.gr4j_params_from_array-Tuple{Any}"><code>gr4j_params_from_array</code></a>, <a href="#Hurst.Models.GR4J.gr4j_run_step-NTuple{4,Any}"><code>gr4j_run_step</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/models/gr4j.jl#L70-L80">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Models.GR4J.gr4j_params_from_array-Tuple{Any}" href="#Hurst.Models.GR4J.gr4j_params_from_array-Tuple{Any}"><code>Hurst.Models.GR4J.gr4j_params_from_array</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">gr4j_params_from_array(arr)</code></pre><p>Returns a Dictionary containing a parameter set ready to be used by the <code>gr4j_run_step</code> function.</p><p>Sets the value of the <code>:x1</code>, <code>:x2</code>, <code>:x3</code> and <code>:x4</code> keys to the 1st, 2nd, 3rd and 4th index values of the <code>arr</code> array.</p><p>Intentionally does not check if these parameter values are within any acceptable range.</p><p>See also: <a href="#Hurst.Models.GR4J.gr4j_params_to_array-Tuple{Any}"><code>gr4j_params_to_array</code></a>, <a href="#Hurst.Models.GR4J.gr4j_params_range-Tuple{}"><code>gr4j_params_range</code></a>, <a href="#Hurst.Models.GR4J.gr4j_run_step-NTuple{4,Any}"><code>gr4j_run_step</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/models/gr4j.jl#L29-L45">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Models.GR4J.gr4j_params_random-Tuple{Any}" href="#Hurst.Models.GR4J.gr4j_params_random-Tuple{Any}"><code>Hurst.Models.GR4J.gr4j_params_random</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">gr4j_params_random(prange)</code></pre><p>Returns a Dictionary containing a random set of GR4J parameter vaues selected with a uniform sampler within the parameter ranges specified by <code>prange</code>.</p><p>The <code>prange</code> argument should be a Dictionary with keys defined by the <code>gr4j_params_range</code> function.</p><p>This set of random parameters has keys defined by the <code>gr4j_params_from_array</code> function and is ready to be used by the <code>gr4j_run_step</code> function.</p><p>See also: <a href="#Hurst.Models.GR4J.gr4j_params_from_array-Tuple{Any}"><code>gr4j_params_from_array</code></a>, <a href="#Hurst.Models.GR4J.gr4j_run_step-NTuple{4,Any}"><code>gr4j_run_step</code></a>, <a href="#Hurst.Models.GR4J.gr4j_params_range-Tuple{}"><code>gr4j_params_range</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/models/gr4j.jl#L85-L101">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Models.GR4J.gr4j_params_range-Tuple{}" href="#Hurst.Models.GR4J.gr4j_params_range-Tuple{}"><code>Hurst.Models.GR4J.gr4j_params_range</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">gr4j_params_range()</code></pre><p>Returns a Dictionary with reasonable ranges for GR4J parameter vaues.</p><p>These are used in the model calibration and random parameter sampling functions.</p><p>See also: <a href="#Hurst.Models.GR4J.gr4j_params_from_array-Tuple{Any}"><code>gr4j_params_from_array</code></a>, <a href="#Hurst.Models.GR4J.gr4j_run_step-NTuple{4,Any}"><code>gr4j_run_step</code></a>, <a href="#Hurst.Models.GR4J.gr4j_params_random-Tuple{Any}"><code>gr4j_params_random</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/models/gr4j.jl#L111-L122">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Models.GR4J.gr4j_params_range_to_tuples-Tuple{Any}" href="#Hurst.Models.GR4J.gr4j_params_range_to_tuples-Tuple{Any}"><code>Hurst.Models.GR4J.gr4j_params_range_to_tuples</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">gr4j_params_range_to_tuples(prange)</code></pre><p>Returns an array of tuples containing the GR4J parameter ranges provided in the <code>prange</code> Dictionary argument. This Dictionary should contain the keys defined by the <code>gr4j_params_range</code> function.</p><p>See also: <a href="#Hurst.Models.GR4J.gr4j_params_range-Tuple{}"><code>gr4j_params_range</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/models/gr4j.jl#L131-L139">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Models.GR4J.gr4j_params_range_trans-Tuple{Any}" href="#Hurst.Models.GR4J.gr4j_params_range_trans-Tuple{Any}"><code>Hurst.Models.GR4J.gr4j_params_range_trans</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">gr4j_params_range_trans(prange)</code></pre><p>Returns a Dictionary with reasonable ranges for GR4J parameter vaues which have been transformed using the method defined in the <code>gr4j_param_trans</code> function.</p><p>See also: <a href="#Hurst.Models.GR4J.gr4j_params_range-Tuple{}"><code>gr4j_params_range</code></a>, <a href="#Hurst.Models.GR4J.gr4j_run_step-NTuple{4,Any}"><code>gr4j_run_step</code></a>, <a href="#Hurst.Models.GR4J.gr4j_params_random-Tuple{Any}"><code>gr4j_params_random</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/models/gr4j.jl#L245-L255">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Models.GR4J.gr4j_params_to_array-Tuple{Any}" href="#Hurst.Models.GR4J.gr4j_params_to_array-Tuple{Any}"><code>Hurst.Models.GR4J.gr4j_params_to_array</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">gr4j_params_to_array(pars)</code></pre><p>Returns an array containing GR4J parameter vaues from a parameter Dictionary with keys defined by the <code>gr4j_params_from_array</code> function.</p><p>Sets the 1st, 2nd, 3rd and 4th index values of the returned array to the value of the <code>:x1</code>, <code>:x2</code>, <code>:x3</code> and <code>:x4</code> keys in the <code>pars</code> Dictionary.</p><p>Intentionally does not check if these parameter values are within any acceptable range.</p><p>See also: <a href="#Hurst.Models.GR4J.gr4j_params_from_array-Tuple{Any}"><code>gr4j_params_from_array</code></a>, <a href="#Hurst.Models.GR4J.gr4j_params_range-Tuple{}"><code>gr4j_params_range</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/models/gr4j.jl#L50-L65">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Models.GR4J.gr4j_params_trans-Tuple{Any}" href="#Hurst.Models.GR4J.gr4j_params_trans-Tuple{Any}"><code>Hurst.Models.GR4J.gr4j_params_trans</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">gr4j_params_trans(pars)</code></pre><p>Returns a set of GR4J parameters which has been transformed using standard practice for a more uniform parameter search space to calibrate within.</p><p>The <code>pars</code> Dictionary should correspond to the that generated by the <code>gr4j_params_from_array</code> function.</p><p>See also: <a href="#Hurst.Models.GR4J.gr4j_params_trans_inv-Tuple{Any}"><code>gr4j_params_trans_inv</code></a>, <a href="#Hurst.Models.GR4J.gr4j_params_from_array-Tuple{Any}"><code>gr4j_params_from_array</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/models/gr4j.jl#L204-L216">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Models.GR4J.gr4j_params_trans_inv-Tuple{Any}" href="#Hurst.Models.GR4J.gr4j_params_trans_inv-Tuple{Any}"><code>Hurst.Models.GR4J.gr4j_params_trans_inv</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">gr4j_params_trans_inv(pars)</code></pre><p>Returns a set of transformed GR4J parameters <code>pars</code> which have been back-transformed. The back-transformation performed is the inverse of the transformations used in the function <code>gr4j_params_trans</code>.</p><p>The <code>pars</code> Dictionary should correspond to the that generated by the <code>gr4j_params_from_array</code> function.</p><p>See also: <a href="#Hurst.Models.GR4J.gr4j_params_trans-Tuple{Any}"><code>gr4j_params_trans</code></a>, <a href="#Hurst.Models.GR4J.gr4j_params_from_array-Tuple{Any}"><code>gr4j_params_from_array</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/models/gr4j.jl#L224-L237">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Models.GR4J.gr4j_run_step-NTuple{4,Any}" href="#Hurst.Models.GR4J.gr4j_run_step-NTuple{4,Any}"><code>Hurst.Models.GR4J.gr4j_run_step</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">gr4j_run_step(rain, pet, state, pars)</code></pre><p>Run a single time-step of the GR4J model. Model is forced by the <code>rain</code> and <code>pet</code> (floats) supplied and uses the <code>state</code> for initial conditions. Model parameters used are provided in the <code>pars</code> argument.</p><p>The <code>pars</code> argument should have keys defined by the <code>gr4j_params_from_array</code> function and the <code>state</code> with keys defined by <code>gr4j_init_state</code>.</p><p>The function then returns the runoff and an updated state. This updated state is typically used as the input state for the next time-step in a time-series simulation.</p><p>See also: <a href="#Hurst.Models.GR4J.gr4j_init_state-Tuple{Any}"><code>gr4j_init_state</code></a>, <a href="#Hurst.Models.GR4J.gr4j_params_from_array-Tuple{Any}"><code>gr4j_params_from_array</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/models/gr4j.jl#L374-L390">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Models.GR4J.create_uh_ordinates-Tuple{Any,Any,Any}" href="#Hurst.Models.GR4J.create_uh_ordinates-Tuple{Any,Any,Any}"><code>Hurst.Models.GR4J.create_uh_ordinates</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">create_uh_ordinates(variant, size, x4)</code></pre><p>Returns an Array of <code>size</code> elements containing the GR4J unit hydrograph ordinates for either of the two <code>variant</code> parameterised by the <code>x4</code> parameter.</p><p>Uses the <code>s_curve</code> function to determine the ordinate values and is used by the <code>gr4j_init_state</code> function to create an initial state for GR4J, specifically defining the unit hydrograph ordinate values used when updating the unit hydrographs each time-step in the <code>gr4j_run_step</code> function.</p><p>See also: <a href="#Hurst.Models.GR4J.s_curve-Tuple{Any,Any,Any}"><code>s_curve</code></a>, <a href="#Hurst.Models.GR4J.gr4j_init_state-Tuple{Any}"><code>gr4j_init_state</code></a>, <a href="#Hurst.Models.GR4J.gr4j_run_step-NTuple{4,Any}"><code>gr4j_run_step</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/models/gr4j.jl#L300-L315">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Models.GR4J.gr4j_param_trans-Tuple{Any,Any}" href="#Hurst.Models.GR4J.gr4j_param_trans-Tuple{Any,Any}"><code>Hurst.Models.GR4J.gr4j_param_trans</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">gr4j_param_trans(param, value)</code></pre><p>Returns the <code>value</code> of a single GR4J parameter which has been transformed using standard practice for a more uniform parameter search space to calibrate within.</p><p>The <code>param</code> Symbol should correspond to a key in the Dictionary returned by the <code>gr4j_params_from_array</code> function.</p><p>See also: <a href="#Hurst.Models.GR4J.gr4j_param_trans_inv-Tuple{Any,Any}"><code>gr4j_param_trans_inv</code></a>, <a href="#Hurst.Models.GR4J.gr4j_params_from_array-Tuple{Any}"><code>gr4j_params_from_array</code></a>, <a href="#Hurst.Models.GR4J.gr4j_params_trans-Tuple{Any}"><code>gr4j_params_trans</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/models/gr4j.jl#L151-L164">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Models.GR4J.gr4j_param_trans_inv-Tuple{Any,Any}" href="#Hurst.Models.GR4J.gr4j_param_trans_inv-Tuple{Any,Any}"><code>Hurst.Models.GR4J.gr4j_param_trans_inv</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">gr4j_param_trans_inv(param, value)</code></pre><p>Returns a single transformed GR4J parameter <code>value</code> which has been back-transformed. The back-transformation performed is the inverse of the transformations defined in the function <code>gr4j_param_trans</code>.</p><p>The <code>param</code> Symbol should correspond to a key in the Dictionary returned by the <code>gr4j_params_from_array</code> function.</p><p>See also: [<code>gr4j_param_trans(param, value), [</code>gr4j<em>params</em>from<em>array<code>](@ref), [</code>gr4j</em>param_trans`](@ref)</p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/models/gr4j.jl#L177-L191">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Models.GR4J.s_curve-Tuple{Any,Any,Any}" href="#Hurst.Models.GR4J.s_curve-Tuple{Any,Any,Any}"><code>Hurst.Models.GR4J.s_curve</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">s_curve(variant, scale, x)</code></pre><p>Returns the value at location <code>x</code> of a <code>variant</code> of an s-curve function parameterised with a <code>scale</code>.</p><p>Is used to define the values of the GR4J unit hydrograph ordinates in the function <code>create_uh_ordinates</code>.</p><p>See also: <a href="#Hurst.Models.GR4J.create_uh_ordinates-Tuple{Any,Any,Any}"><code>create_uh_ordinates</code></a>, <a href="#Hurst.Models.GR4J.gr4j_run_step-NTuple{4,Any}"><code>gr4j_run_step</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/models/gr4j.jl#L264-L276">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Models.GR4J.update_uh-Tuple{Any,Any,Any}" href="#Hurst.Models.GR4J.update_uh-Tuple{Any,Any,Any}"><code>Hurst.Models.GR4J.update_uh</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">update_uh(uh, volume, ordinates)</code></pre><p>Returns an updated unit hydrograph Array after incrementing the <code>uh</code> and convoluting with the <code>ordinates</code> and <code>volume</code>.</p><p>The ordinates are defined by the <code>create_uh_ordinates</code> function.</p><p>Used by the <code>gr4j_run_step</code> function when updating the model state, specifically the two GR4J unit hydrographs.</p><p>See also: <a href="#Hurst.Models.GR4J.create_uh_ordinates-Tuple{Any,Any,Any}"><code>create_uh_ordinates</code></a>, <a href="#Hurst.Models.GR4J.gr4j_run_step-NTuple{4,Any}"><code>gr4j_run_step</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/models/gr4j.jl#L324-L338">source</a></section><h2><a class="nav-anchor" id="Hurst.Models.OSTP-1" href="#Hurst.Models.OSTP-1">Hurst.Models.OSTP</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Models.OSTP.ostp_init_state-Tuple{Any}" href="#Hurst.Models.OSTP.ostp_init_state-Tuple{Any}"><code>Hurst.Models.OSTP.ostp_init_state</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">ostp_init_state(pars)</code></pre><p>Return a Dictionary containing an initial state for ostp model. Uses a standard method derived from a set of model parmaters, <code>pars</code>.</p><p>The <code>pars</code> argument should have keys defined by the <code>ostp_params_from_array</code> function.</p><p>See also: <a href="#Hurst.Models.OSTP.ostp_params_from_array-Tuple{Any}"><code>ostp_params_from_array</code></a>, <a href="#Hurst.Models.OSTP.ostp_run_step-NTuple{4,Any}"><code>ostp_run_step</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/models/ostp.jl#L142-L154">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Models.OSTP.ostp_params_default-Tuple{}" href="#Hurst.Models.OSTP.ostp_params_default-Tuple{}"><code>Hurst.Models.OSTP.ostp_params_default</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">ostp_params_default()</code></pre><p>Returns a Dictionary containing a reasonable set of ostp parameter vaues with keys defined by the <code>ostp_params_from_array</code> function and ready to be used by the <code>ostp_run_step</code> function.</p><p>See also: <a href="#Hurst.Models.OSTP.ostp_params_from_array-Tuple{Any}"><code>ostp_params_from_array</code></a>, <a href="#Hurst.Models.OSTP.ostp_run_step-NTuple{4,Any}"><code>ostp_run_step</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/models/ostp.jl#L67-L77">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Models.OSTP.ostp_params_from_array-Tuple{Any}" href="#Hurst.Models.OSTP.ostp_params_from_array-Tuple{Any}"><code>Hurst.Models.OSTP.ostp_params_from_array</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">ostp_params_from_array(arr)</code></pre><p>Returns a Dictionary containing a parameter set ready to be used by the <code>ostp_run_step</code> function.</p><p>Sets the value of the <code>:capacity</code>, <code>:loss</code> keys to the 1st and 2nd index values of the <code>arr</code> array.</p><p>Intentionally does not check if these parameter values are within any acceptable range.</p><p>See also: <a href="#Hurst.Models.OSTP.ostp_params_to_array-Tuple{Any}"><code>ostp_params_to_array</code></a>, <a href="#Hurst.Models.OSTP.ostp_params_range-Tuple{}"><code>ostp_params_range</code></a>, <a href="#Hurst.Models.OSTP.ostp_run_step-NTuple{4,Any}"><code>ostp_run_step</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/models/ostp.jl#L26-L42">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Models.OSTP.ostp_params_random-Tuple{Any}" href="#Hurst.Models.OSTP.ostp_params_random-Tuple{Any}"><code>Hurst.Models.OSTP.ostp_params_random</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">ostp_params_random(prange)</code></pre><p>Returns a Dictionary containing a random set of ostp parameter vaues selected with a uniform sampler within the parameter ranges specified by <code>prange</code>.</p><p>The <code>prange</code> argument should be a Dictionary with keys defined by the <code>ostp_params_range</code> function.</p><p>This set of random parameters has keys defined by the <code>ostp_params_from_array</code> function and is ready to be used by the <code>ostp_run_step</code> function.</p><p>See also: <a href="#Hurst.Models.OSTP.ostp_params_from_array-Tuple{Any}"><code>ostp_params_from_array</code></a>, <a href="#Hurst.Models.OSTP.ostp_run_step-NTuple{4,Any}"><code>ostp_run_step</code></a>, <a href="#Hurst.Models.OSTP.ostp_params_range-Tuple{}"><code>ostp_params_range</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/models/ostp.jl#L82-L98">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Models.OSTP.ostp_params_range-Tuple{}" href="#Hurst.Models.OSTP.ostp_params_range-Tuple{}"><code>Hurst.Models.OSTP.ostp_params_range</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">ostp_params_range()</code></pre><p>Returns a Dictionary with reasonable ranges for ostp parameter vaues.</p><p>These are used in the model calibration and random parameter sampling functions.</p><p>See also: <a href="#Hurst.Models.OSTP.ostp_params_from_array-Tuple{Any}"><code>ostp_params_from_array</code></a>, <a href="#Hurst.Models.OSTP.ostp_run_step-NTuple{4,Any}"><code>ostp_run_step</code></a>, <a href="#Hurst.Models.OSTP.ostp_params_random-Tuple{Any}"><code>ostp_params_random</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/models/ostp.jl#L108-L119">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Models.OSTP.ostp_params_range_to_tuples-Tuple{Any}" href="#Hurst.Models.OSTP.ostp_params_range_to_tuples-Tuple{Any}"><code>Hurst.Models.OSTP.ostp_params_range_to_tuples</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">ostp_params_range_to_tuples(prange)</code></pre><p>Returns an array of tuples containing the ostp parameter ranges provided in the <code>prange</code> Dictionary argument. This Dictionary should contain the keys defined by the <code>ostp_params_range</code> function.</p><p>See also: <a href="#Hurst.Models.OSTP.ostp_params_range-Tuple{}"><code>ostp_params_range</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/models/ostp.jl#L126-L134">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Models.OSTP.ostp_params_to_array-Tuple{Any}" href="#Hurst.Models.OSTP.ostp_params_to_array-Tuple{Any}"><code>Hurst.Models.OSTP.ostp_params_to_array</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">ostp_params_to_array(pars)</code></pre><p>Returns an array containing ostp parameter vaues from a parameter Dictionary with keys defined by the <code>ostp_params_from_array</code> function.</p><p>Sets the 1st and 2nd index values of the returned array to the value of the <code>:capacity</code> and <code>:loss</code> keys in the <code>pars</code> Dictionary.</p><p>Intentionally does not check if these parameter values are within any acceptable range.</p><p>See also: <a href="#Hurst.Models.OSTP.ostp_params_from_array-Tuple{Any}"><code>ostp_params_from_array</code></a>, <a href="#Hurst.Models.OSTP.ostp_params_range-Tuple{}"><code>ostp_params_range</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/models/ostp.jl#L47-L62">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Models.OSTP.ostp_run_step-NTuple{4,Any}" href="#Hurst.Models.OSTP.ostp_run_step-NTuple{4,Any}"><code>Hurst.Models.OSTP.ostp_run_step</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">ostp_run_step(rain, pet, state, pars)</code></pre><p>Run a single time-step of the ostp model. ostp a simple one storage, two parameter model used for educational purposes. To outline basic concepts in conceptual rainfall-runoff models and how to implement a rainfall-runoff model within Hurst. Please do not use it for actual water resource modelling!</p><p>The model is forced by the <code>rain</code> and <code>pet</code> (floats) supplied and uses the <code>state</code> for initial conditions. Model parameters used are provided in the <code>pars</code> argument.</p><p>The <code>pars</code> argument should have keys defined by the <code>ostp_params_from_array</code> function and the <code>state</code> with keys defined by <code>ostp_init_state</code>.</p><p>The function then returns the runoff and an updated state. This updated state is typically used as the input state for the next time-step in a time-series simulation.</p><p>See also: <a href="#Hurst.Models.OSTP.ostp_init_state-Tuple{Any}"><code>ostp_init_state</code></a>, <a href="#Hurst.Models.OSTP.ostp_params_from_array-Tuple{Any}"><code>ostp_params_from_array</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/models/ostp.jl#L160-L180">source</a></section><h2><a class="nav-anchor" id="Hurst.Simulation-1" href="#Hurst.Simulation-1">Hurst.Simulation</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Simulation.simulate-NTuple{5,Any}" href="#Hurst.Simulation.simulate-NTuple{5,Any}"><code>Hurst.Simulation.simulate</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">simulate(timestep_fnc, rain, pet, pars, init_state)</code></pre><p>Returns a runoff simulation by forcing a rainfall-runoff model with the <code>rain</code> and <code>pet</code> timeseries.</p><p>The rainfall-runoff model is defined by the <code>timestep_fnc</code> function and <code>pars</code> model parameters Dictionary. This function is expected to return runoff for a single timestep of rain and pet. The model will be initalised with the <code>init_state</code> initial state Dictionary.</p><p>Will error if the <code>rain</code> and <code>pet</code> arrays are different lengths.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/simulate.jl#L22-L34">source</a></section><h2><a class="nav-anchor" id="Hurst.Calibration-1" href="#Hurst.Calibration-1">Hurst.Calibration</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Calibration.calibrate-NTuple{5,Any}" href="#Hurst.Calibration.calibrate-NTuple{5,Any}"><code>Hurst.Calibration.calibrate</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">calibrate(rain, pet, runoff, functions, opt_options)</code></pre><p>Attempts to minimise an objective function between the <code>runoff</code> and a simulation from a rainfall-runoff model forced by <code>rain</code> and <code>pet</code>.</p><p>Returns an optimal set of parameters and the associated objective function value.</p><p>Will error if the <code>rain</code>, <code>pet</code> and <code>runoff</code> arrays are different lengths.</p><p>Functions to define the model and parameters are defined in the <code>functions</code> Dictionary. Refer to example to understand meaning.</p><pre><code class="language-none">functions[:run_model_time_step]
functions[:init_state]
functions[:params_from_array]
functions[:objective_function]
functions[:params_inverse_transform]
functions[:params_range_transform]
functions[:params_range_to_tuples]
functions[:params_range]</code></pre><p>If the <code>:params_inverse_transform</code> key is defined in the <code>functions</code> Dictionary then it will assume the optimisation is in transformed space and will attempt to transform and detransform paramter sets and ranges. Will error if ALL the required transformation-related Dictionary keys are not defined.</p><p>Currently uses the <a href="https://github.com/robertfeldt/BlackBoxOptim.jl">BlackBoxOptim.jl</a> package for numerical optimisation and the following options may be specified in the <code>opt_options</code> Dictionary, detailed information can be found at <a href="https://github.com/robertfeldt/BlackBoxOptim.jl#configurable-options">BlackBoxOptim.jl options</a>:</p><pre><code class="language-none">opt_options[:method]
opt_options[:max_iterations]
opt_options[:max_time]
opt_options[:trace_interval]
opt_options[:trace_mode])</code></pre><p>A typical set of <code>function</code> and <code>opt_options</code> to run a 5 minute calibration using the GR4J model in transformed paramter space with the Nash Sutcliffe Efficiency objective function could be:</p><pre><code class="language-none"># build up dictionary of model functions needed for calibration
functions = Dict()
functions[:run_model_time_step] = gr4j_run_step
functions[:init_state] = gr4j_init_state
functions[:params_from_array] = gr4j_params_from_array
functions[:objective_function] = (obs, sim) -&gt; -1 * nse(obs, sim)
functions[:params_inverse_transform] = gr4j_params_trans_inv
functions[:params_range_transform] = gr4j_params_range_trans
functions[:params_range_to_tuples] = gr4j_params_range_to_tuples
functions[:params_range] = gr4j_params_range

# build up dictionary of optimiser options needed for calibration
opt_options = Dict()
opt_options[:max_iterations] = false
opt_options[:max_time] = 5 * 60
opt_options[:trace_interval] = 15
opt_options[:trace_mode] = :verbose
opt_options[:method] = :adaptive_de_rand_1_bin_radiuslimited

# calibrate the model
opt_pars, opt_neg_nse = calibrate(data[:rain], data[:pet], data[:runoff_obs], functions, opt_options)
opt_nse = -1 * opt_neg_nse</code></pre><p>See also: <a href="#Hurst.Simulation.simulate-NTuple{5,Any}"><code>simulate</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/calibrate.jl#L26-L93">source</a></section><h2><a class="nav-anchor" id="Hurst.Transformations-1" href="#Hurst.Transformations-1">Hurst.Transformations</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Transformations.boxcox-Tuple{Any,Any,Any}" href="#Hurst.Transformations.boxcox-Tuple{Any,Any,Any}"><code>Hurst.Transformations.boxcox</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">boxcox(y, λ, ν)</code></pre><p>Two param box-cox transform. (<a href="https://en.wikipedia.org/wiki/Power_transform">Wikipedia</a>)</p><p>Box, G. E. P., and D. R. Cox (1964), An analysis of transformations, J. R. Stat. Soc., Ser. B, 26, 296–311.</p><p>See also: <a href="#Hurst.Transformations.boxcox_inverse-Tuple{Any,Any,Any}"><code>boxcox_inverse</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/transforms.jl#L24-L33">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Transformations.boxcox-Tuple{Any,Any}" href="#Hurst.Transformations.boxcox-Tuple{Any,Any}"><code>Hurst.Transformations.boxcox</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">boxcox(y, λ)</code></pre><p>One param box-cox transform. (<a href="https://en.wikipedia.org/wiki/Power_transform">Wikipedia</a>)</p><p>Box, G. E. P., and D. R. Cox (1964), An analysis of transformations, J. R. Stat. Soc., Ser. B, 26, 296–311.</p><p>See also: <a href="#Hurst.Transformations.boxcox_inverse-Tuple{Any,Any,Any}"><code>boxcox_inverse</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/transforms.jl#L60-L69">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Transformations.boxcox_inverse-Tuple{Any,Any,Any}" href="#Hurst.Transformations.boxcox_inverse-Tuple{Any,Any,Any}"><code>Hurst.Transformations.boxcox_inverse</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">boxcox_inverse(z, λ, ν)</code></pre><p>Inverse of the two param box-cox transform. (<a href="https://en.wikipedia.org/wiki/Power_transform">Wikipedia</a>)</p><p>Box, G. E. P., and D. R. Cox (1964), An analysis of transformations, J. R. Stat. Soc., Ser. B, 26, 296–311.</p><p>See also: <a href="#Hurst.Transformations.boxcox-Tuple{Any,Any,Any}"><code>boxcox</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/transforms.jl#L42-L51">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Transformations.boxcox_inverse-Tuple{Any,Any}" href="#Hurst.Transformations.boxcox_inverse-Tuple{Any,Any}"><code>Hurst.Transformations.boxcox_inverse</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">boxcox_inverse(z, λ)</code></pre><p>Inverse of the one param box-cox transform. (<a href="https://en.wikipedia.org/wiki/Power_transform">Wikipedia</a>)</p><p>Box, G. E. P., and D. R. Cox (1964), An analysis of transformations, J. R. Stat. Soc., Ser. B, 26, 296–311.</p><p>See also: <a href="#Hurst.Transformations.boxcox-Tuple{Any,Any,Any}"><code>boxcox</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/transforms.jl#L72-L81">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Transformations.log_sinh-Tuple{Any,Any,Any}" href="#Hurst.Transformations.log_sinh-Tuple{Any,Any,Any}"><code>Hurst.Transformations.log_sinh</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">log_sinh(y, a, b)</code></pre><p>Log-sinh transform.</p><p>Wang, Q. J., D. L. Shrestha, D. E. Robertson, and P. Pokhrel (2012b), A log-sinh transformation for data normalization and variance stabiliza- tion, Water Resour. Res., 48, W05514, doi:10.1029/2011WR010973.</p><p>See also: <a href="#Hurst.Transformations.log_sinh_inverse-Tuple{Any,Any,Any}"><code>log_sinh_inverse</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/transforms.jl#L84-L94">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Transformations.log_sinh_inverse-Tuple{Any,Any,Any}" href="#Hurst.Transformations.log_sinh_inverse-Tuple{Any,Any,Any}"><code>Hurst.Transformations.log_sinh_inverse</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">log_sinh_inverse(z, a, b)</code></pre><p>Inverse of the log-sinh transform.</p><p>Wang, Q. J., D. L. Shrestha, D. E. Robertson, and P. Pokhrel (2012b), A log-sinh transformation for data normalization and variance stabiliza- tion, Water Resour. Res., 48, W05514, doi:10.1029/2011WR010973.</p><p>See also: <a href="#Hurst.Transformations.log_sinh-Tuple{Any,Any,Any}"><code>log_sinh</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/transforms.jl#L99-L109">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Transformations.log_trans-Tuple{Any,Any}" href="#Hurst.Transformations.log_trans-Tuple{Any,Any}"><code>Hurst.Transformations.log_trans</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">log_trans(y, offset)</code></pre><p>Log transform with offset. (<a href="https://en.wikipedia.org/wiki/Data_transformation_%28statistics%29">Wikipedia</a>)</p><p>See also: <a href="#Hurst.Transformations.log_trans_inverse-Tuple{Any,Any}"><code>log_trans_inverse</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/transforms.jl#L114-L120">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Transformations.log_trans-Tuple{Any}" href="#Hurst.Transformations.log_trans-Tuple{Any}"><code>Hurst.Transformations.log_trans</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">log_trans(y)</code></pre><p>Log transform with no offset. (<a href="https://en.wikipedia.org/wiki/Data_transformation_%28statistics%29">Wikipedia</a>)</p><p>See also: <a href="#Hurst.Transformations.log_trans_inverse-Tuple{Any,Any}"><code>log_trans_inverse</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/transforms.jl#L136-L142">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Transformations.log_trans_inverse-Tuple{Any,Any}" href="#Hurst.Transformations.log_trans_inverse-Tuple{Any,Any}"><code>Hurst.Transformations.log_trans_inverse</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">log_trans_inverse(z, offset)</code></pre><p>Inverse log transform with offset. (<a href="https://en.wikipedia.org/wiki/Data_transformation_%28statistics%29">Wikipedia</a>)</p><p>See also: <a href="#Hurst.Transformations.log_trans-Tuple{Any,Any}"><code>log_trans</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/transforms.jl#L125-L131">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Transformations.log_trans_inverse-Tuple{Any}" href="#Hurst.Transformations.log_trans_inverse-Tuple{Any}"><code>Hurst.Transformations.log_trans_inverse</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">log_trans_inverse(z)</code></pre><p>Inverse log transform with no offset. (<a href="https://en.wikipedia.org/wiki/Data_transformation_%28statistics%29">Wikipedia</a>)</p><p>See also: <a href="#Hurst.Transformations.log_trans-Tuple{Any,Any}"><code>log_trans</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/transforms.jl#L145-L151">source</a></section><h2><a class="nav-anchor" id="Hurst.Visualisations-1" href="#Hurst.Visualisations-1">Hurst.Visualisations</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Visualisations.hydrograph-Tuple{Any,Any,Any}" href="#Hurst.Visualisations.hydrograph-Tuple{Any,Any,Any}"><code>Hurst.Visualisations.hydrograph</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">hydrograph(rain, runoffs, runoff_labels)</code></pre><p>Generates a simple combined hydrograph and hyetograph figure.</p><p>Multiple traces of runoff may be plotted by passing an array of arrays for <code>runoff</code> and associated <code>runoff_labels</code>.</p><p>Datetime tick marks are not plotted, only timesteps.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/visualisations.jl#L24-L33">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Visualisations.hyscatter-NTuple{5,Any}" href="#Hurst.Visualisations.hyscatter-NTuple{5,Any}"><code>Hurst.Visualisations.hyscatter</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">hyscatter(obs, sim, sim_labels)</code></pre><p>Generates a simple scatter plot of simulation series <code>sims</code> against an observation series <code>obs</code>.</p><p>Multiple scatters may be plotted by passing an array of arrays for <code>sims</code> and associated <code>sim_labels</code>.</p><p>Include a plot <code>title</code>, series <code>sim_labels</code>, and measurement <code>units</code> for the axis.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/visualisations.jl#L57-L67">source</a></section><h2><a class="nav-anchor" id="Hurst.Units-1" href="#Hurst.Units-1">Hurst.Units</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Units.acres_to_km2-Tuple{Any}" href="#Hurst.Units.acres_to_km2-Tuple{Any}"><code>Hurst.Units.acres_to_km2</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">acres_to_km2(a)</code></pre><p>Convert an area in acres to an area in square kilometres.</p><p>See also: <a href="#Hurst.Units.km2_to_acres-Tuple{Any}"><code>km2_to_acres</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/units.jl#L92-L98">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Units.cumecs_to_megalitres_day-Tuple{Any}" href="#Hurst.Units.cumecs_to_megalitres_day-Tuple{Any}"><code>Hurst.Units.cumecs_to_megalitres_day</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">cumecs_to_megalitres_day(q)</code></pre><p>Convert cubic metres per second of streamflow <code>q</code> into megalitres per day of volume.</p><p>See also: <a href="#Hurst.Units.megalitres_day_to_cumecs-Tuple{Any}"><code>megalitres_day_to_cumecs</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/units.jl#L25-L32">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Units.km2_to_acres-Tuple{Any}" href="#Hurst.Units.km2_to_acres-Tuple{Any}"><code>Hurst.Units.km2_to_acres</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">km2_to_acres(a)</code></pre><p>Convert an area in square kilometres to an area in acres.</p><p>See also: <a href="#Hurst.Units.acres_to_km2-Tuple{Any}"><code>acres_to_km2</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/units.jl#L83-L89">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Units.km2_to_m2-Tuple{Any}" href="#Hurst.Units.km2_to_m2-Tuple{Any}"><code>Hurst.Units.km2_to_m2</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">km2_to_m2(a)</code></pre><p>Convert an area in square kilometres to an area in square metres.</p><p>See also: <a href="#Hurst.Units.m2_to_km2-Tuple{Any}"><code>m2_to_km2</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/units.jl#L65-L71">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Units.m2_to_km2-Tuple{Any}" href="#Hurst.Units.m2_to_km2-Tuple{Any}"><code>Hurst.Units.m2_to_km2</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">m2_to_km2(a)</code></pre><p>Convert an area in square metres to an area in square kilometres.</p><p>See also: <a href="#Hurst.Units.km2_to_m2-Tuple{Any}"><code>km2_to_m2</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/units.jl#L74-L80">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Units.megalitres_day_to_cumecs-Tuple{Any}" href="#Hurst.Units.megalitres_day_to_cumecs-Tuple{Any}"><code>Hurst.Units.megalitres_day_to_cumecs</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">megalitres_day_to_cumecs(v)</code></pre><p>Convert megalitres per day of volume <code>v</code> into cubic metres per second of streamflow.</p><p>See also: <a href="#Hurst.Units.cumecs_to_megalitres_day-Tuple{Any}"><code>cumecs_to_megalitres_day</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/units.jl#L35-L42">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Units.megalitres_to_mm_runoff-Tuple{Any,Any}" href="#Hurst.Units.megalitres_to_mm_runoff-Tuple{Any,Any}"><code>Hurst.Units.megalitres_to_mm_runoff</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">megalitres_to_mm_runoff(v, area)</code></pre><p>Use the catchment <code>area</code> (kilometres) to convert a volume <code>v</code> (megalitres) into catchment average runoff (millimetres).</p><p>See also: <a href="#Hurst.Units.mm_runoff_to_megalitres-Tuple{Any,Any}"><code>mm_runoff_to_megalitres</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/units.jl#L55-L62">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Units.mm_runoff_to_megalitres-Tuple{Any,Any}" href="#Hurst.Units.mm_runoff_to_megalitres-Tuple{Any,Any}"><code>Hurst.Units.mm_runoff_to_megalitres</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">mm_runoff_to_megalitres(d, area)</code></pre><p>Use the catchment <code>area</code> (kilometres) to convert a depth <code>d</code> of catchment average runoff (millimetres) into volume (megalitres).</p><p>See also: <a href="#Hurst.Units.megalitres_to_mm_runoff-Tuple{Any,Any}"><code>megalitres_to_mm_runoff</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/units.jl#L45-L52">source</a></section><h2><a class="nav-anchor" id="Hurst.Performance.Metrics-1" href="#Hurst.Performance.Metrics-1">Hurst.Performance.Metrics</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Performance.Metrics.coeff_det-Tuple{Any,Any}" href="#Hurst.Performance.Metrics.coeff_det-Tuple{Any,Any}"><code>Hurst.Performance.Metrics.coeff_det</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">coeff_det(y, f)</code></pre><p>Returns the Coefficient of Determination between <code>y</code> and <code>f</code>. Skips missing values from either series.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/performance/metrics.jl#L38-L43">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Performance.Metrics.kge-Tuple{Any,Any}" href="#Hurst.Performance.Metrics.kge-Tuple{Any,Any}"><code>Hurst.Performance.Metrics.kge</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">kge(o, s, return_components)</code></pre><p>Returns the Kling-Gupta Efficiency between <code>o</code> and <code>s</code>. Skips missing values from either series.</p><p>If <code>return_components</code> is <code>true</code> then a Dictionary is returned containing the final KGE value (:kge) along with the individual return<em>components used to construct the KGE (:covariance, :relative</em>variability, :mean_bias)</p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/performance/metrics.jl#L92-L101">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Performance.Metrics.kuipers_score-Tuple{Any}" href="#Hurst.Performance.Metrics.kuipers_score-Tuple{Any}"><code>Hurst.Performance.Metrics.kuipers_score</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">kuipers_score(scaled_conf)</code></pre><p>Returns the Kuipers Score using the elements of the <code>scaled_conf</code> contingency table.</p><p>Richardson, D. S. “Skill and Relative Economic Value of the ECMWF Ensemble Prediction System.” Quarterly Journal of the Royal Meteorological Society 126, no. 563 (January 2000): 649–67. <a href="https://doi.org/10.1256/smsqj.56312">https://doi.org/10.1256/smsqj.56312</a>.</p><p>See also: <a href="#Hurst.Performance.Confusion.confusion_scaled-NTuple{4,Any}"><code>confusion_scaled</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/performance/metrics.jl#L121-L133">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Performance.Metrics.mae-Tuple{Any,Any}" href="#Hurst.Performance.Metrics.mae-Tuple{Any,Any}"><code>Hurst.Performance.Metrics.mae</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">mae(o, s)</code></pre><p>Returns the Mean Absolute Error between <code>o</code> and <code>s</code>. Skips missing values from either series.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/performance/metrics.jl#L60-L65">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Performance.Metrics.mse-Tuple{Any,Any}" href="#Hurst.Performance.Metrics.mse-Tuple{Any,Any}"><code>Hurst.Performance.Metrics.mse</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">mse(o, s)</code></pre><p>Returns the Mean Square Error between <code>o</code> and <code>s</code>. Skips missing values from either series.</p><p>See also: <a href="#Hurst.Performance.Metrics.rmse-Tuple{Any,Any}"><code>rmse</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/performance/metrics.jl#L48-L55">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Performance.Metrics.nse-Tuple{Any,Any}" href="#Hurst.Performance.Metrics.nse-Tuple{Any,Any}"><code>Hurst.Performance.Metrics.nse</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">nse(obs, sim)</code></pre><p>Returns the Nash Sutcliffe Efficiency of <code>obs</code> and <code>sim</code> timeseries.</p><p>See also: <a href="#Hurst.Performance.Metrics.coeff_det-Tuple{Any,Any}"><code>coeff_det</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/performance/metrics.jl#L27-L33">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Performance.Metrics.persistence-Tuple{Any,Any}" href="#Hurst.Performance.Metrics.persistence-Tuple{Any,Any}"><code>Hurst.Performance.Metrics.persistence</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">persistence(o, s)</code></pre><p>Returns the Persistence Index between <code>o</code> and <code>s</code>. Skips missing values from either series.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/performance/metrics.jl#L81-L86">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Performance.Metrics.rmse-Tuple{Any,Any}" href="#Hurst.Performance.Metrics.rmse-Tuple{Any,Any}"><code>Hurst.Performance.Metrics.rmse</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">rmse(o, s)</code></pre><p>Returns the Root Mean Square Error between <code>o</code> and <code>s</code>.</p><p>See also: <a href="#Hurst.Performance.Metrics.mse-Tuple{Any,Any}"><code>mse</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/performance/metrics.jl#L70-L76">source</a></section><h2><a class="nav-anchor" id="Hurst.Performance.Economic-1" href="#Hurst.Performance.Economic-1">Hurst.Performance.Economic</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Performance.Economic.cost_loss-Tuple{Any,Any,Any}" href="#Hurst.Performance.Economic.cost_loss-Tuple{Any,Any,Any}"><code>Hurst.Performance.Economic.cost_loss</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">cost_loss(costs, losses, scaled_conf, method=&quot;verkade&quot;)</code></pre><p>Returns the relative economic value of a forecast system using a the cost-loss model using the cost-loss ratio (<code>costs</code>, <code>losses</code>) and scaled confusion matrix <code>scaled_conf</code>.</p><p>Two methods are implemented (Verkade 2011 and Roulin 2007) which may be selected with the <code>method</code> argument (default is Verkade).</p><p>Verkade, J. S., and M. G. F. Werner. “Estimating the Benefits of Single Value and Probability Forecasting for Flood Warning.” Hydrology and Earth System Sciences 15, no. 12 (December 20, 2011): 3751–65. <a href="https://doi.org/10.5194/hess-15-3751-2011">https://doi.org/10.5194/hess-15-3751-2011</a>.</p><p>Roulin, E. “Skill and Relative Economic Value of Medium-Range Hydrological Ensemble Predictions.” Hydrology and Earth System Sciences 11, no. 2 (2007): 725–37. <a href="https://doi.org/10.5194/hess-11-725-2007">https://doi.org/10.5194/hess-11-725-2007</a>.</p><p>See also: <a href="#Hurst.Performance.Confusion.confusion_scaled-NTuple{4,Any}"><code>confusion_scaled</code></a>, <a href="#Hurst.Performance.Economic.cost_loss_roulin-Tuple{Any,Any,Any}"><code>cost_loss_roulin</code></a>, <a href="#Hurst.Performance.Economic.cost_loss_verkade-Tuple{Any,Any,Any}"><code>cost_loss_verkade</code></a>, <a href="#Hurst.Performance.Economic.cost_loss_richardson-NTuple{4,Any}"><code>cost_loss_richardson</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/performance/economic.jl#L111-L134">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Performance.Economic.cost_loss_richardson-NTuple{4,Any}" href="#Hurst.Performance.Economic.cost_loss_richardson-NTuple{4,Any}"><code>Hurst.Performance.Economic.cost_loss_richardson</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">cost_loss_richardson(α, μ, H, F)</code></pre><p>Returns the relative economic value of a forecast system using a the cost-loss model using the cost-loss ratio <code>α</code>, observed frequency <code>μ</code>, hit rate <code>H</code> and false alarm rate <code>F</code>.</p><p>This method has the same implementation as Roulin 2007 but does not use a confusion matrix as input.</p><p>Richardson, D. S. “Skill and Relative Economic Value of the ECMWF Ensemble Prediction System.” Quarterly Journal of the Royal Meteorological Society 126, no. 563 (January 2000): 649–67. <a href="https://doi.org/10.1256/smsqj.56312">https://doi.org/10.1256/smsqj.56312</a>.</p><p>See also: <a href="#Hurst.Performance.Confusion.confusion_scaled-NTuple{4,Any}"><code>confusion_scaled</code></a>, <a href="#Hurst.Performance.Economic.cost_loss-Tuple{Any,Any,Any}"><code>cost_loss</code></a>, <a href="#Hurst.Performance.Economic.cost_loss_verkade-Tuple{Any,Any,Any}"><code>cost_loss_verkade</code></a>, <a href="#Hurst.Performance.Economic.cost_loss_roulin-Tuple{Any,Any,Any}"><code>cost_loss_roulin</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/performance/economic.jl#L88-L107">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Performance.Economic.cost_loss_roulin-Tuple{Any,Any,Any}" href="#Hurst.Performance.Economic.cost_loss_roulin-Tuple{Any,Any,Any}"><code>Hurst.Performance.Economic.cost_loss_roulin</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">cost_loss_roulin(costs, losses, scaled_conf)</code></pre><p>Returns the relative economic value of a forecast system using a the cost-loss model using the cost-loss ratio (<code>costs</code>, <code>losses</code>) and confusion matrix scaled by the total events and non-events <code>scaled_conf</code>.</p><p>Roulin, E. “Skill and Relative Economic Value of Medium-Range Hydrological Ensemble Predictions.” Hydrology and Earth System Sciences 11, no. 2 (2007): 725–37. <a href="https://doi.org/10.5194/hess-11-725-2007">https://doi.org/10.5194/hess-11-725-2007</a>.</p><p>See also: <a href="#Hurst.Performance.Confusion.confusion_scaled-NTuple{4,Any}"><code>confusion_scaled</code></a>, <a href="#Hurst.Performance.Economic.cost_loss-Tuple{Any,Any,Any}"><code>cost_loss</code></a>, <a href="#Hurst.Performance.Economic.cost_loss_verkade-Tuple{Any,Any,Any}"><code>cost_loss_verkade</code></a>, <a href="#Hurst.Performance.Economic.cost_loss_richardson-NTuple{4,Any}"><code>cost_loss_richardson</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/performance/economic.jl#L55-L70">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Performance.Economic.cost_loss_verkade-Tuple{Any,Any,Any}" href="#Hurst.Performance.Economic.cost_loss_verkade-Tuple{Any,Any,Any}"><code>Hurst.Performance.Economic.cost_loss_verkade</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">cost_loss_verkade(costs, losses, scaled_conf)</code></pre><p>Returns the relative economic value of a forecast system using a the cost-loss model using the cost-loss ratio (<code>costs</code>, <code>losses</code>) and confusion matrix scaled by the total events and non-events <code>scaled_conf</code>.</p><p>Verkade, J. S., and M. G. F. Werner. “Estimating the Benefits of Single Value and Probability Forecasting for Flood Warning.” Hydrology and Earth System Sciences 15, no. 12 (December 20, 2011): 3751–65. <a href="https://doi.org/10.5194/hess-15-3751-2011">https://doi.org/10.5194/hess-15-3751-2011</a>.</p><p>See also: <a href="#Hurst.Performance.Confusion.confusion_scaled-NTuple{4,Any}"><code>confusion_scaled</code></a>, <a href="#Hurst.Performance.Economic.cost_loss-Tuple{Any,Any,Any}"><code>cost_loss</code></a>, <a href="#Hurst.Performance.Economic.cost_loss_roulin-Tuple{Any,Any,Any}"><code>cost_loss_roulin</code></a>, <a href="#Hurst.Performance.Economic.cost_loss_richardson-NTuple{4,Any}"><code>cost_loss_richardson</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/performance/economic.jl#L24-L41">source</a></section><h2><a class="nav-anchor" id="Hurst.Performance.Confusion-1" href="#Hurst.Performance.Confusion-1">Hurst.Performance.Confusion</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Performance.Confusion.confusion-NTuple{4,Any}" href="#Hurst.Performance.Confusion.confusion-NTuple{4,Any}"><code>Hurst.Performance.Confusion.confusion</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">confusion(hits, misses, false_alarms, quiets)</code></pre><p>Returns a Dict containing fields of a <a href="https://en.wikipedia.org/wiki/Confusion_matrix">confusion matrix</a> with the various common names used for each combination of the 2x2 grid.</p><p>See also: <a href="#Hurst.Performance.Confusion.confusion_scaled-NTuple{4,Any}"><code>confusion_scaled</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/performance/confusion.jl#L22-L30">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Hurst.Performance.Confusion.confusion_scaled-NTuple{4,Any}" href="#Hurst.Performance.Confusion.confusion_scaled-NTuple{4,Any}"><code>Hurst.Performance.Confusion.confusion_scaled</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">confusion_scaled(hits, misses, false_alarms, quiets)</code></pre><p>Returns a Dict containing fields of a <a href="https://en.wikipedia.org/wiki/Confusion_matrix">confusion matrix</a> with the various common names used for each combination of the 2x2 grid scaled to be relative to the number of events and non-events (hits + misses + false_alarms + quiets).</p><p>See also: <a href="#Hurst.Performance.Confusion.confusion-NTuple{4,Any}"><code>confusion</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/tinyrock/hurst/blob/e87236ebcabd4d463fd8cd6f1a5db6470e6d76ac/src/performance/confusion.jl#L52-L62">source</a></section><footer><hr/></footer></article></body></html>
