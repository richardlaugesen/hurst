# Copyright 2018-2019 Richard Laugesen
#
# This file is part of Hurst
#
# Hurst is free software: you can redistribute it and/or modify
# it under the terms of the GNU Lesser General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# Hurst is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public License
# along with Hurst.  If not, see <https://www.gnu.org/licenses/>.

using Hurst
using Hurst.Transformations

y = rand(100)

# Box-cox is only defined from -2 > λ > 2, fails outside this because of float numerical errors with large λ

for λ in -10:0.5:10
        sum_trans = sum(boxcox_inverse(boxcox(y, λ), λ))
        sum_y = sum(y)
        diff = sum_trans - sum_y
        println("$λ $sum_trans $sum_y $diff")
end

# -10.0 49.38397498834871 49.38397498834871 0.0
# -9.5 49.38397498834871 49.38397498834871 0.0
# -9.0 49.38397498834871 49.38397498834871 0.0
# -8.5 49.38397498834871 49.38397498834871 0.0
# -8.0 49.38397498834871 49.38397498834871 0.0
# -7.5 49.38397498834871 49.38397498834871 0.0
# -7.0 49.38397498834871 49.38397498834871 0.0
# -6.5 49.38397498834871 49.38397498834871 0.0
# -6.0 49.38397498834871 49.38397498834871 0.0
# -5.5 49.38397498834871 49.38397498834871 0.0
# -5.0 49.38397498834871 49.38397498834871 0.0
# -4.5 49.38397498834871 49.38397498834871 0.0
# -4.0 49.38397498834871 49.38397498834871 0.0
# -3.5 49.38397498834871 49.38397498834871 0.0
# -3.0 49.38397498834871 49.38397498834871 0.0
# -2.5 49.38397498834871 49.38397498834871 0.0
# -2.0 49.38397498834871 49.38397498834871 0.0
# -1.5 49.38397498834871 49.38397498834871 0.0
# -1.0 49.38397498834871 49.38397498834871 0.0
# -0.5 49.38397498834872 49.38397498834871 7.105427357601002e-15
# 0.0 49.38397498834871 49.38397498834871 0.0
# 0.5 49.38397498834871 49.38397498834871 0.0
# 1.0 49.38397498834871 49.38397498834871 0.0
# 1.5 49.38397498834872 49.38397498834871 7.105427357601002e-15
# 2.0 49.38397498834871 49.38397498834871 0.0
# 2.5 49.38397498834876 49.38397498834871 4.973799150320701e-14
# 3.0 49.383974988347504 49.38397498834871 -1.2079226507921703e-12
# 3.5 49.383974988359626 49.38397498834871 1.0913936421275139e-11
# 4.0 49.383974988774966 49.38397498834871 4.262545871824841e-10
# 4.5 49.38397499286061 49.38397498834871 4.511896634085133e-9
# 5.0 49.383975313516984 49.38397498834871 3.2516827275230753e-7
# 5.5 49.38397645696442 49.38397498834871 1.4686157072674177e-6
# 6.0 49.38399307557594 49.38397498834871 1.80872272252941e-5
# 6.5 49.38103780799294 49.38397498834871 -0.002937180355772284
# 7.0 49.38103781549685 49.38397498834871 -0.0029371728518583495
# 7.5 49.38103762135515 49.38397498834871 -0.002937366993563728
# 8.0 49.38103885462801 49.38397498834871 -0.0029361337207021165
# 8.5 49.38101652931414 49.38397498834871 -0.0029584590345734796
# 9.0 49.38085321123295 49.38397498834871 -0.0031217771157585616
# 9.5 49.360963774505976 49.38397498834871 -0.023011213842735856
# 10.0 49.36052837465089 49.38397498834871 -0.023446613697821306
